# SPDX-License-Identifier: Apache-2.0

site-link-validator {
  root-dir = "./docs/target/site/"
  # relative to `root-dir`
  start-file = "docs/pekko-grpc/snapshot/index.html"

  # Resolves URLs with the given prefix as local files instead
  link-mappings = [
    {
      prefix = "https://pekko.apache.org/docs/pekko-grpc/snapshot/"
      replace = "/docs/pekko-grpc/snapshot/"
    }
    {
      prefix = "https://pekko.apache.org/api/pekko-grpc/snapshot/"
      replace = "/api/pekko-grpc/snapshot/"
    }
  ]

  ignore-missing-local-files-regex = ""

  ignore-prefixes = [
    # GitHub will block with "429 Too Many Requests"
    "https://github.com/apache/pekko-grpc/"
    # MVN repository forbids access after a few requests
    "https://mvnrepository.com/artifact/"
    # Github links generated by sbt-license-report
    "http://pholser.github.com/jopt-simple"
    "https://github.com/googleapis/java-iam/proto-google-common-protos"
    "https://github.com/netty/netty-tcnative/netty-tcnative-boringssl-static"
    # Other links generated by sbt-license-report
    "http://lmax-exchange.github.com/disruptor"
    # Occasionally returns a 500 Internal Server Error
    "http://code.google.com/"
  ]

  non-https-whitelist = [
    # license report
    "http://www.jetbrains.org",
    "http://aopalliance.sourceforge.net",
    "http://asm.ow2.io/",
    "http://checkerframework.org",
    "http://code.google.com/p/",
    "http://commons.apache.org/proper/",
    "http://findbugs.sourceforge.net/",
    "http://fusesource.github.io/jansi",
    "http://github.com/typelevel/jawn"
    "http://hc.apache.org/",
    "http://hdrhistogram.github.io/HdrHistogram/",
    "http://jcp.org/en/jsr/detail?id=250",
    "http://junit.org",
    "http://lmax-exchange.github.com/disruptor",
    "http://openjdk.java.net/legal/gplv2+ce.html",
    "http://opensource.org/licenses/",
    "http://www.opensource.org/licenses/",
    "http://parboiled.org",
    "http://pholser.github.com/jopt-simple",
    "http://source.android.com/",
    "http://www.apache.org/licenses",
    "http://www.eclipse.org/legal/",
    "http://www.gnu.org/licenses/",
    "http://www.jcraft.com/jsch/",
    "http://www.reactive-streams.org/",
    "http://www.scala-lang.org/",
    "http://www.scala-sbt.org",
    "http://www.scalatest.org",
    "http://www.slf4j.org",
    "http://creativecommons.org/"
    "http://jopt-simple.github.io/"
    "http://jspecify.org/"
  ]
}
